{"ast":null,"code":"import _defineProperty from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/darlenewelch/rubies/api-mtg-ruby/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/darlenewelch/rubies/api-mtg-ruby/client/src/components/User.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { login, createUser } from '../redux';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport LoginBox from './LoginBox';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user,\n    loggedIn: state.loggedIn\n  };\n};\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.state = {\n      username: '',\n      loggedIn: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogin = _this.handleLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCreateUsername = _this.handleCreateUsername.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"handleLogin\",\n    value: function handleLogin(e) {\n      e.preventDefault();\n      console.log('test');\n      this.setState(login(this.state.username));\n    }\n  }, {\n    key: \"handleCreateUsername\",\n    value: function handleCreateUsername(e) {\n      e.preventDefault();\n\n      if (this.state.username === /\\W?/) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"Please only use letters, numbers, and underscores. No spaces or special characters. :)\");\n      } else {\n        this.setState(createUser(this.state.username));\n      }\n\n      console.log(\"Created user: \".concat(this.state.username));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.loggedIn === true) {\n        return React.createElement(Redirect, {\n          to: \"/decks\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, !this.props.loggedIn ? React.createElement(LoginBox, {\n        handleLogin: this.handleLogin,\n        createUser: this.handleCreateUsername,\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }) : React.createElement(\"button\", {\n        onClick: this.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Logout\"));\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport default withRouter(connect(mapStateToProps, {\n  createUser: createUser\n})(User));","map":{"version":3,"sources":["/Users/darlenewelch/rubies/api-mtg-ruby/client/src/components/User.js"],"names":["React","Component","connect","login","createUser","Redirect","withRouter","LoginBox","mapStateToProps","state","user","loggedIn","User","props","username","handleChange","bind","handleLogin","handleCreateUsername","e","target","name","value","setState","preventDefault","console","log","handleLogout"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,UAAlC;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AAAEC,IAAAA,IAAI,EAAED,KAAK,CAACC,IAAd;AAAoBC,IAAAA,QAAQ,EAAEF,KAAK,CAACE;AAApC,GAAP;AACD,CAFD;;IAIMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,UAAKJ,KAAL,GAAa;AAAEK,MAAAA,QAAQ,EAAE,EAAZ;AAAgBH,MAAAA,QAAQ,EAAE;AAA1B,KAAb;AACA,UAAKI,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,uDAAnB;AACA,UAAKE,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BF,IAA1B,uDAA5B;AALiB;AAMlB;;;;iCACYG,C,EAAG;AAAA,sBACUA,CAAC,CAACC,MADZ;AAAA,UACNC,IADM,aACNA,IADM;AAAA,UACAC,KADA,aACAA,KADA;AAEd,WAAKC,QAAL,qBACGF,IADH,EACUC,KADV;AAGD;;;gCACWH,C,EAAG;AACbA,MAAAA,CAAC,CAACK,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,WAAKH,QAAL,CAAcpB,KAAK,CAAC,KAAKM,KAAL,CAAWK,QAAZ,CAAnB;AACD;;;yCACoBK,C,EAAG;AACtBA,MAAAA,CAAC,CAACK,cAAF;;AACA,UAAG,KAAKf,KAAL,CAAWK,QAAX,KAAwB,KAA3B,EAAkC;AAChC,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oGAAP;AACD,OAFD,MAEO;AACL,aAAKS,QAAL,CACEnB,UAAU,CAAC,KAAKK,KAAL,CAAWK,QAAZ,CADZ;AAGD;;AACDW,MAAAA,OAAO,CAACC,GAAR,yBAA6B,KAAKjB,KAAL,CAAWK,QAAxC;AACD;;;6BACQ;AACP,UAAI,KAAKD,KAAL,CAAWF,QAAX,KAAwB,IAA5B,EAAkC;AAChC,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAAC,KAAKE,KAAL,CAAWF,QAAZ,GACC,oBAAC,QAAD;AAAU,QAAA,WAAW,EAAG,KAAKM,WAA7B;AAA2C,QAAA,UAAU,EAAG,KAAKC,oBAA7D;AAAoF,QAAA,YAAY,EAAG,KAAKH,YAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAEC;AAAQ,QAAA,OAAO,EAAE,KAAKY,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,CADF;AAQD;;;;EA1CgB1B,S;;AA6CnB,eAAeK,UAAU,CAACJ,OAAO,CAACM,eAAD,EAAkB;AAACJ,EAAAA,UAAU,EAAEA;AAAb,CAAlB,CAAP,CAAmDQ,IAAnD,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { login, createUser } from '../redux';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport LoginBox from './LoginBox';\n\nconst mapStateToProps = (state) => {\n  return { user: state.user, loggedIn: state.loggedIn }\n}\n\nclass User extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { username: '', loggedIn: false}\n    this.handleChange = this.handleChange.bind(this)\n    this.handleLogin = this.handleLogin.bind(this)\n    this.handleCreateUsername = this.handleCreateUsername.bind(this)\n  }\n  handleChange(e) {\n    const { name, value } = e.target\n    this.setState({\n      [name]: value\n    })\n  }\n  handleLogin(e) {\n    e.preventDefault()\n    console.log('test')\n    this.setState(login(this.state.username))\n  }\n  handleCreateUsername(e) {\n    e.preventDefault()\n    if(this.state.username === /\\W?/) {\n      return <p>Please only use letters, numbers, and underscores. No spaces or special characters. :)</p>\n    } else {\n      this.setState(\n        createUser(this.state.username)\n      )\n    }\n    console.log(`Created user: ${this.state.username}`)\n  }\n  render() {\n    if (this.props.loggedIn === true) {\n      return <Redirect to=\"/decks\" />\n    } \n    return (\n      <div className=\"user\">\n        {!this.props.loggedIn ?\n          <LoginBox handleLogin={ this.handleLogin } createUser={ this.handleCreateUsername } handleChange={ this.handleChange } />\n        : <button onClick={this.handleLogout}>Logout</button>\n        }\n      </div>\n    )\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, {createUser: createUser})(User))"]},"metadata":{},"sourceType":"module"}